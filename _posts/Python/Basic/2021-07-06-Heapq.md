---
title:  "힙"
excerpt: "우선순위 큐"
categories:
  - Py_Basic
tags:
  - 1
last_modified_at: 2021-07-06

toc: true
toc_label: "Table Of Contents"
toc_icon: "cog"
toc_sticky: true

use_math: true
---

<br>

# 우선순위 큐?

- 우선 우선순위 큐 에 대해서 알아보자. 우선순위 큐는 데이터들이 우선순위를 가지고 있고, 우선순위가 높은 데이터가 먼저 나간다.

  | 자료구조    | 추출되는 데이터             |
  | ----------- | --------------------------- |
  | 스택        | 가장 나중에 삽입된 데이터   |
  | 큐          | 가장 먼저 삽입된 데이터     |
  | 우선순위 큐 | 가장 우선순위가 높은 데이터 |

- 이런 우선순위 큐는 데이터를 우선순위에 따라 처리하고 싶을떄에 사용합니다.

  - 예를 들면 여러개의 데이터를 자료구조에 넣었다가, 가치가 높은 물건 데이터부터 꺼내고 싶을 떄 등입니다. 

- 파이썬에서는 우선순위 큐 라이브러리를 지원합니다. 그러므로 이를 구현할 일은 없습니다. 

<br>

# 힙이란?

- 완전 이진트리의 일종으로 우선순위 큐를 위하여 만들어진 자료구조입니다. 
- 여러개의 값들 중에서 최댓값이나 최솟값을 빠르게 찾아내도록 만들어진 자료구조입니다. 
- 힙은 일종의 반 정렬상태(느슨한 정렬 상태) 를 유지합니다. 
  - 즉 이는 큰 값이 상위 레벨에 있고, 작은 값이 하위 레벨에 있다는것입니다.
  - 항상 부모 노드의 값이 자식 노드의 값보다 큰 이진 트리라는 것입니다. 
- 힙 트리에서는 중복된 값을 허용합니다. 

> 최대 힙

- 부모 노드의 값이 자식 노드의 값보다 크거나 같은 완전 이진 트리

> 최소 힙

- 부모 노드의 키 값이 자식 노드의 값보다 작거나 같은 완전 이진 트리

![png](/assets/images/Python/9_1.png)

- 힙의 구현은 일반적으로 배열로 하게된다. 

- 힙에서의 부모 노드와 자식 노드의 관계
  - 왼쪽 자식의 인덱스 = (부모의 인덱스) * 2
  - 오른쪽 자식의 인덱스 = (부모의 인덱스) * 2 + 1
  - 부모의 인덱스 = (자식의 인덱스) / 2

![png](/assets/images/Python/9_2.png)



# 힙의 삽입

- 힙에 새로운 요소가 들어오면 일단 새로운 노드를 힙의 마지막 노드에 이어서 삽입한다.
- 새로운 노드를 부모 노드들과 교환하여 힙의 성질을 만족시킨다.

![png](/assets/images/Python/9_3.png)

<br>

# 힙의 삭제

- 최대 힙에서, 최대값은 루트 노드이므로 루트 노드가 삭제된다. 
  - 최대 힙(max heap) 에서 삭제 연산은 최댓값을 가진 요소를 삭제하는것이다.
- 삭제된 루트 노드에는 힙의 마지막 노드를 가져온다.
- 힙을 재구성한다.

![png](/assets/images/Python/9_4.png)

<br>

# 최소, 최대힙

- 최소힙을 최대힙처럼 사용하기 위해서, 일부로 우선순위에 음수(-) 부호를 넣기도 한다. 
- 힙을 사용하면, 모든 원소를 저장한 후에, 우선순위에 맞게 빠르게 뽑아낼 수 있으므로 힙은 우선순위 큐를 구현하는데에 가장 많이 사용된다.

