---
title:  "Git Start"
excerpt: "Git 에 대해서 알아봅시다."
categories:

  - Git
tags:
  - 1
last_modified_at: 2021-02-10

toc: true
toc_label: "Table Of Contents"
toc_icon: "cog"
toc_sticky: true

use_math: true
---

# Intro

- Git 카테고리의 글들은 'git 교과서' 라는 책의 내용을 토대로 다룬다.
- 기본적인 저장소 생성, 연동 등에 대해서는 인터넷에 정보가 많으므로 소개하지는 않는다.
- 적용보다는 git이 어떤 역할을 하는지과, 구조 등에 대해 알기 위함이다.

# VCS

- VCS : 코드와 컨텐츠의 변화를 관리하고, 추적하는 소프트 웨어를 버전관리 시스템(VCS) 라고 한다.
- Repository : VCS 에서 버전 파일들을 관리하고, 저장하는 공간
- 집중형 : 모든 소스코드가 한 곳에 집중되어있는 형태
  - 장점 : 모든 소스코드가 한곳에 있어서 관리가 쉬움
  - 단점 : 중앙처리공간인 서버에 문제가 생기면 심각한 문제가 발생한다. 또한 여러 개발자가 접근하면 충돌이 발생하여 순차적으로 해야한다.
- 분산형 : 저장소가 여러개 존재한다. 여러 저장소에 각 버전별 소스를 개별 보관한다.
  - P2P 방식으로 공유하며, 각 개발자에게 공유 가능한 저장소의 사본을 제공
  - 서버는 각 저장소의 자료를 동기화, 중개하는 역할을 수행한다.
  - 즉 이는 메인 서버에 영향이 생겨도 계속 사용이 가능하다는 뜻이다.

# Git

- 2005년에 리눅스 개발자가 개발함
- 원격 저장소와 별개로, 개발자 각각이 로컬 컴퓨터에 완벽한 복사본을 저장할 수 있다.
- 네트워크나 인터넷이 연결되어있지 않아도 로컬에서 수정 후, 인터넷이 연결되었을 때 동기화 할 수 있다.
- 특징
  - 백업 : 원격 저장소에 내 코드들을 백업해 놓을 수 있다.
  - 코드 공유 : 네트워크를 통해 쉬운 코드 공유 가능
  - 기록 : commit 을 거쳐 모든 코드의 수정 이력을 기록한다.
  - 원격 공유 : 내 코드 저장소를 원격 서버에 푸시하여 저장하고, 다른 사람들이 수정해 놓은 이력을 pull 하여서 땡겨올 수 있다.
  - 병합 : 하나의 소스코들을 여러개의 브랜치로 분기해서 독립된 기능을 구현할 수 있다.
  - 공개 : 원격 저장소의 내용을 public 하게 공개할 수 있다.
  - 비공개 : 비공개 할 수도 있음 무료 계정에도 private 를 제공한다.
  - 외부 개발자는 원격 저장소를 fork(다른사람의 원격 저장소를 가져오는것) 하여 버그수정 등이 가능
  - 수정한 코드를 pull request 하여 기존 코드에 병합을 요청할 수 있다.
- 위 내용이 잘 이해가 되지 않아도 이제 차근차근 배우면 되므로 걱정하지 말자!



# Git의 동작

1. 초기화 : 폴더를 깃 저장소로 변력
2. 커밋 : 변경된 코드 이력을 기록
3. 브랜치 : 분리, 격리된 코드 이력 기록
4. 병합 : 기존 이력과 분리된 이력을 통합
5. 푸시 : 로컬 저장소의 이력을 서버로 전송 및 공유



# 깃 저장소

- 깃 저장소에는 별도로 숨겨져 있는 폴더가 있다.
- 이곳에 버젼관리 시스템 vcs 에 필요한 파일 변경 이력을 저장함
- 이 저장소는 모든 변경과 history 를 가지고 있다.



# git init

- git init 은 기존 폴더에 숨겨진 영역을 추가한다.
- 이 명령어를 통해서, 폴더는 깃 저장소로 변경되게 된다.



# .git

- git init 명령어를 통해서 생성된 .git 파일은 숨겨져 있으므로 폴더 보기 설정에서 숨김파일 보기로 바꾸어야 볼 수 있다.
- 이 폴더는 깃으로 관리되는 모든 브랜치 이력, 파일등을 관리한다.
- 즉 컴퓨터에서 깃 저장소를 통째로 복사하려고 한다면 이 숨겨진 .git 파일도 같이 복사해야 한다.



# Working directory

- 깃은 VCS 의 특성으로 저장공간을 논리적으로 분할한다.
  - working : 작업을 하는 공간
  - stage : 임시로 저장하는공간
  - repository : 실제로 저장하여 기록하는 공간
- 그중에서 working directory 는 작업을 하는 공간을 의미한다.



# Working -> Stage (git add)

- 깃이 다른 VCS 보다 뛰어난것은 지정된 파일들의 모든것을 추적하는 관리 시스템이기 때문이다.

- 깃은 워킹 디렉토리에 있는 파일들을 추적됨과 추적되지 않는 상태로 구분한다.

- Untracked 상태 

  - 실제 작업중인 파일은 working directory 안에 있다.
  - 이 공간에 파일을 생성한다고 해서, 깃은 자동으로 추적/관리 해 주지 않는다.
  - '새로 만든 파일은 default 가 추적되지 않음' 이다. 
  - 즉 이 파일을 관리하려면 깃에 추적하라고 알려주어야한다.

- Tracked 상태

  - 워킹 디렉토리에 파일을 추가해봤자, 깃은 아무것도 안한다.
  - 추적상태로 변경해주는것이 바로 git add 이다.
  - [git add 파일 이름] 명령을 통해서 working directory -> stage area 로 올리고 이를 추적하게 된다.

  ![png](/assets/images/Git/1_1.PNG)

- 깃이 굳이 tracked 와 untracked 를 사용하는 이유는 시스템 과부하를 줄이기 위함이다.

  - (너무 많은 파일을 tracked 하라고 하면 과부하가 걸리기 십상이다.)

# Stage (git status)

- Stage 는 임시로 저장하는 공간을 의미한다.
  - 워킹 디렉토리와, 실제로 기록/저장 하는 공간 사이의 임시영역이다.
  - 깃은 워킹 디렉토리에서 작업이 끝난 파일을 이 Stage 에서 잠시 복사한다.
  - 이때 '파일의 내용' 을 가지고 있는게 아니라 파일의 '추적상태' 정보를 보관한다.
  - 즉 워킹 디렉토리에서 올라온 Tracked 파일들을 관리하는 역할을 수행하게 된다.
- 임시영역인 스테이지가 왜 있을까?
  - 커밋을 빠르게 처리하기 위함이다.
  - 실제로 저장하여 기록하는 공간인 저장소는 스테이지 영역에서 가르키는 파일내용을 기반으로 '변경된 차이점만' 기록한다.
- 파일들의 stage 상태는 git status 라는 명령어로 확인이 가능하다.
- 버젼관리에서 제외하고 싶은 파일이 있으면 .gitignore 에 추가한다.
  - 용량이 너무 큰 데이터파일을 추가 가능
  - 민감한 정보가 들어있는 파일을 추가 가능



# Unstage

- 깃이 변화 이력을 기록하려면 파일들의 최종 상태가 stage 상태여야한다.
- 파일이 수정되명 파일에 변화를 감지하고 스테이지 목록에서 임시로 제외하여 unstage 상태가 된다.
- 이런 unstage 상태의 파일도 다시 git add 명령어를 통해서 stage 에 다시 추가할 수 있다.



# Modified 

- 파일을 수정하는 작업을 하는것은 우리의 워킹 디렉토리에서 일어난다.

- 즉 스테이지와 워킹 디렉토리간 내용이 일치하지 않게 된다는 것이다.

- 그래서 스테이지에서는 수정된 파일과 원본을 구분하기 위해 modified 와 unmodified 상태로 표현한다.

- Modified 

  - 깃은 tracked 상태인 파일만 수정여부를 관리할 수 있었음을 기억하자
  - tracked 상태인 파일이 수정되면, 스테이지는 파일 상태를 modified 로 변경
  - 이제 수정된 파일은 스테이지에서 제외된다.
  - 수정된 파일을 다시 깃에서 관리받고 업데이트 하고 싶다면 [git add 파일이름] 을 해 주어야 한다.

- Unmodified 

  - tracked 상태인 파일이 '수정되지 않은' 원본 상테
  - 수정되지 않는 한 계속 Unmodified 를 유지하며 stage 에 남게 된다.

  ![png](/assets/images/Git/1_2.PNG)

# git Status

- 파일들의 상태를 모니터링할 수 있는 status 명령어를 아랑보자
- git status 를 통해서 파일들의 상태를 알 수 있다.
- 아무 작업도 하지 않은 상태라면 No commits yet 을 출력하게 된다.



# .ignore

- 민감한 파일이나 용량이 큰 데이터를 제외시켜서 관리할 수 있다.

  ![png](/assets/images/Git/1_3.PNG)

- 특정한 파일 제외

  - 위와 같이 .ignore.txt 파일이 저장소에 있으며, 그 파일에 무시할 파일의 이름을  써 넣으면 추적하지 않는다.
  - 경로가 있으면, 그 경로명도 같이 입력해야 한다.
  - 이때 ignore 파일은 저장소 최상위 디렉터리(.git 과 같은 위치) 에 있어야 함을 명시하자.

- 특정한 확장자의 이름 무시

  - *.txt : 모든 텍스트 파일 무시

- 특정한 폴더 안의 모든파일 제외

  - /igore/ : ignore 데럭터리 안의 모든것을 무시

- 나는 맨 마지막 '특정한 폴더' 를 만들어서 무시할 파일을 넣고 관리하는것을 추천한다.



# 저장소의 복제(clone)

- git init 을 통해서 새 저장소를 만들 수 있었다.

- 그런데 이 떄에 외부에 있는 프로젝트를 기반으로 저장소를 생성하고 싶을때는 어떻게 해야할까?

- Download zip 

  ![png](/assets/images/Git/1_4.PNG)

  - 위와 같이 zip 파일을 다운로드하는것은 그저 파일만 내려받는것이다.
  - 마치 네이버에서 파일을 다운로드하는것과 다를바가 없음

- [git clone 원격저장소url 새폴더이름]

  - 위와 같은 clone 은 저장소를 복제한다.
  - 복제할때에 새폴더이름을 지정하지 않으면 사용된 폴더와 동일한 이름으로 새 폴더를 만든다.
  - 이렇게 복제하게 되면 git 의 커밋 내역까지 모두 복제한다.