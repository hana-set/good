---
title:  "4.ì™¸ë¶€ Module"
excerpt: "íŒŒì´ì¬ ì™¸ë¶€ module"
categories:
  - AL_Basic
tags:
  - 1
last_modified_at: 2021-08-01

toc: true
toc_label: "Table Of Contents"
toc_icon: "cog"

use_math : true
---

# 1. deque

- â€˜dequeâ€™ëŠ” â€˜double-ended queueâ€™ì˜ ì¤„ì„ë§ë¡œì„œ ìŠ¤íƒê³¼ íë¥¼ í•©ì¹œ ê²ƒê³¼ ê°™ì€, ì–‘ë°©í–¥ì—ì„œ ë°ì´í„°ë¥¼ ì‚½ì… ë° ì¶”ì¶œí•  ìˆ˜ ìˆëŠ” ìë£Œí˜•ì´ë‹¤.
- indexing ì€ ê°€ëŠ¥í•˜ë‚˜ slicing ì€ ë˜ì§€ ì•ŠëŠ”ë‹¤.
- ì´ë•Œ ì¤‘ìš”í•œê²ƒì€! deque ëŠ” ê·¸ì € ê°ì‹¸ì£¼ëŠ”ì—­í• ë°–ì— ì•ˆëœë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤.

```python
q = deque([0,0]) # qëŠ” [0,0] ì˜ deque ë¦¬ìŠ¤íŠ¸ê°€ ë˜ëŠ”ê²ƒ
q = dequq([[0,0]]) # qëŠ” [[0,0]] ì˜ deque ë¦¬ìŠ¤íŠ¸ê°€ ë˜ëŠ”ê²ƒ 
```

- Queue ë¡œ ì“°ì´ëŠ” (ì–‘ë°©í–¥ ëì—ì„œ ì ‘ê·¼) ê²½ìš°ì—ë§Œ ì¢‹ë‹¤. Stack ìœ¼ë¡œ ì“°ì´ê±°ë‚˜, ë˜ëŠ” ì›ì†Œ ì¤‘ê°„ì— ì ‘ê·¼í•  ê²½ìš° List ë¥¼ ì“°ë„ë¡ í•˜ì.

```python
from collections import deque
```

**ğŸ”¨Method**

> deque(list [,maxlen=n] ) : dequeë¥¼ ìƒì„±í•œë‹¤. (maxlen ì€ n ìœ¼ë¡œ í¬ê¸°ë¥¼ ì œí•œí•´ì¤€ë‹¤.)

- deque ê°ì²´ì˜ ê¸¸ì´ê°€ ì œí•œë˜ì–´ì„œ, ì˜¤ë¥¸ìª½ìœ¼ë¡œ ê°’ì´ ì¶”ê°€ë˜ë©´ ì™¼ìª½ì—ì„œë¶€í„° ê°’ì´ ì‚­ì œë©ë‹ˆë‹¤.

```python
deq5 = deque(maxlen=3)
for i in range(5):
    deq5.append(i)
    print(deq5)
```

```python
deque([0], maxlen=3)
deque([0, 1], maxlen=3)
deque([0, 1, 2], maxlen=3)
deque([1, 2, 3], maxlen=3)
deque([2, 3, 4], maxlen=3)
```

> .append : ë¦¬ìŠ¤íŠ¸ì™€ ê°™ì´ ë§¨ ëì— ìë£Œë¥¼ ì¶”ê°€í•œë‹¤.

- $O(1)$

```python
deq1 = deque([1, 2, 3])
deq1.append(4)
print(deq1) # [1,2,3,4]
```

> .appendleft : deque ì˜ ë§¨ ì•ì— ê°’ì„ ì¶”ê°€í•œë‹¤.

- $O(1)$

```python
deq2 = deque([1, 2, 3])
deq2.appendleft(0)
print(deq2) # [0,1,2,3]
```

> .pop() : dequeì˜ ì˜¤ë¥¸ìª½ì—ì„œ ë°ì´í„° í•˜ë‚˜ë¥¼ ê°€ì ¸ì™€ì„œ ë°˜í™˜.

- $O(1)$
- dequeì—ì„œ ê·¸ ê°’ì€ ì‚­ì œë˜ë©°, ê°€ì ¸ì˜¬ ìš”ì†Œê°€ ì—†ë‹¤ë©´ IndexErrorë¥¼ ì¼ìœ¼í‚µë‹ˆë‹¤.

```python
deq = deque([1, 2, 3])
deq_last = deq.pop()
print(deq_last) # 3 
print(deq) # deq([1,2])
```

> .popleft()

- $O(1)$

- dequeì˜ ì™¼ìª½ì—ì„œ ë°ì´í„° í•˜ë‚˜ë¥¼ ê°€ì ¸ì™€ì„œ ë°˜í™˜. dequeì—ì„œ ê·¸ ê°’ì€ ì‚­ì œë˜ë©°, ê°€ì ¸ì˜¬ ìš”ì†Œê°€ ì—†ë‹¤ë©´ IndexErrorë¥¼ ì¼ìœ¼í‚µë‹ˆë‹¤.

> rotate(k) : ì…ë ¥í•œ ìˆ˜ë§Œí¼ dequeì˜ ê°’ë“¤ì„ (ì˜¤ë¥¸ìª½ìœ¼ë¡œ) ì´ë™í•œë‹¤.

- $O(k)$

```python
from collections import deque
deq = deque([1, 2, 3])
deq.rotate(1)      # Shift to the right
print(deq8) # deque([3, 1, 2])

deq.rotate(-2)     # Shift to the left
print(deq8) # deque([2, 3, 1])
```

- ì…ë ¥í•œ ê°’ì´ ìŒìˆ˜ë¼ë©´ ì™¼ìª½ìœ¼ë¡œ ì´ë™í•©ë‹ˆë‹¤.

> **.reverse()** : dequeì˜ ìˆœì„œë¥¼ ë’¤ì§‘ëŠ”ë‹¤.

```python
deq6 = deque([1, 2, 3])
deq6.reverse()
print(deq6) # deque([3, 2, 1])
```

> **.insert(i,x)** : x ë¥¼ i ìœ„ì¹˜ì— ì‚½ì…í•œë‹¤.

- ë‹¤ë§Œ ê¸¸ì´ ì œí•œì´ ìˆëŠ” ê²½ìš° maxlen ì„ ì´ˆê³¼í•œ ì‚½ì…ì€ indexerror ë¥¼ ë‚´ë³´ë‚¸ë‹¤. 

> **.index(i)** : i element ì¤‘ì—ì„œ ê°€ì¥ ë¹ ë¥¸(ì¸ë±ìŠ¤ê°€ ì‘ì€) ì¸ë±ìŠ¤ë¥¼ ì¶œë ¥

> **count(x)** : dequeì— í¬í•¨ëœ xì˜ ê°œìˆ˜ë¥¼ ë°˜í™˜í•œë‹¤.




**â—ì£¼ì˜**

- list ì²˜ëŸ¼ x[i:j] ì˜ slice ì—°ì‚°ì€ ë˜ì§€ ì•ŠìŒ
- ëŒ€ì‹  x[3] ì˜ ì—°ì‚°ì€ ê°€ëŠ¥
- for ë¬¸ê³¼ ê²°í•© ê°€ëŠ¥
    - for val in deq : ... ë¥¼ í•˜ê²Œë˜ë©´ list ì™€ ë˜‘ê°™ì´ ì‘ìš©í•œë‹¤.

<br>

# 2. Heapq

- ë¶€ëª¨ ë…¸ë“œê°€ ìì‹ë³´ë‹¤ ê°™ê±°ë‚˜ ì‘ì€ ê°’ì„ ê°€ì§€ëŠ” ì´ì§„ íŠ¸ë¦¬
- ì´ êµ¬í˜„ì—ì„œëŠ” ëª¨ë“  kì— ëŒ€í•´ heap[k] <= heap[2k+1]ê³¼ heap[k] <= heap[2k+2]ì¸ ë°°ì—´ ì‚¬ìš©í•©ë‹ˆë‹¤.
  - ì´ëŠ” k ê°€ ë¶€ëª¨ë…¸ë“œì´ê³ , 2k+1, 2K+2 ì´ ê°ê° ë¶€ëª¨ë…¸ë“œ k ì˜ ìì‹ë…¸ë“œê°€ ë˜ëŠ”ê²ƒì…ë‹ˆë‹¤.
- ê°€ì¥ ì‘ì€ ìš”ì†Œê°€ í•­ìƒ heap[0]ì´ ë©ë‹ˆë‹¤. 
- í™ì„ ë¦¬ìŠ¤íŠ¸ë¡œ í‘œí˜„í•´ì¤€ê²ƒì´ë‹¤.
- ì •ë ¬ì€ ì•ì˜ ELement ê¸°ì¤€ìœ¼ë¡œ ì´ë£¨ì–´ì§‘ë‹ˆë‹¤.

> import heapq 

- heapq ëª¨ë“ˆì„ import 

> ë¹ˆ Heap ë§Œë“¤ê¸° 

- ë³„ë‹¤ë¥¸ ì—°ì‚°ì´ í•„ìš” ì—†ìŠµë‹ˆë‹¤. 

```python
lst = []
heapq.heappush(lst,3)
# 'ë¹ˆ ë¦¬ìŠ¤íŠ¸' ëŠ” ê·¸ ìƒíƒœì—ì„œ ì´ë¯¸ í™ ì •ë ¬ì´ ë˜ì–´ìˆê¸° ë–„ë¬¸ì…ë‹ˆë‹¤.
```

> heapq.heapify( list )

- ë¦¬ìŠ¤íŠ¸ê°€ í™ ì •ë ¬ë˜ì–´ìˆì§€ ì•Šì€ ìƒíƒœì—ì„œ, ë¦¬ìŠ¤íŠ¸ë¥¼ í™ ì •ë ¬í• ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤. 
  - ì´ê²ƒì„ í•˜ì§€ ì•Šê³ , ê·¸ëŒ€ë¡œ heappop, heappush ë¥¼ ì‚¬ìš©í• ìˆ˜ëŠ” ì—†ìŠµë‹ˆë‹¤. 
  - ê·¸ëŒ€ë¡œ ì‚¬ìš©í•˜ê²Œëœë‹¤ë©´, ì´ìƒí•œê°’ì„ ë½‘ì•„ë‚´ê²Œ ë©ë‹ˆë‹¤. 

- $O(N)$

```python
lst = [3,4,2,1,5]
heapq.heapify(lst)
lst # [1, 3, 2, 4, 5]
```

> heapq.heappush( list , x )

- í™ì— ì›ì†Œë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤. (ì´ë•Œ, ì¶”ê°€í•˜ëŠ” ì›ì†ŒëŠ” ì •ë ¬ë˜ì–´ ë“¤ì–´ê°‘ë‹ˆë‹¤.)
- ì²˜ìŒ ì¸ìëŠ” ì›ì†Œë¥¼ ì¶”ê°€í•  ëŒ€ìƒ ë¦¬ìŠ¤íŠ¸
- ë‘ë²ˆì§¸ ì¸ìëŠ” ì¶”ê°€í•  ì›ì†Œ 
- $O(logN)$

```python
import heapq
heap = []
heapq.heappush(heap, 4)
heapq.heappush(heap, 1)
heapq.heappush(heap, 7)
heapq.heappush(heap, 3)
print(heap) # [1, 3, 7, 4]
```

> heapq.heappop(list)

```python
lst = [3,4,2,1,5]
heapq.heapify(lst) # ë¨¼ì € heap ìœ¼ë¡œ ë§Œë“¤ì–´ì£¼ì–´ì•¼í•¨
heapq.heappop(lst) # 1 ìµœì†Œê°’ ì¶œë ¥
```

- list ì—ì„œ ê°€ì¥ ì‘ì€ ì›ì†Œë¥¼ ë¹¼ëƒ…ë‹ˆë‹¤. 
- list ì´ ë¹„ì–´ìˆìœ¼ë©´ ì—ëŸ¬ê°€ ë°œìƒ
- $O(logN)$

## Note

> Heapq ëŠ” ì•ì˜ Element ê°€ ìš°ì„ ìœ¼ë¡œ ì •ë ¬ë©ë‹ˆë‹¤. 

```python
q = [(1,5),(1,2),(2,3),(2,1)]
heapq.heapify(q)
heapq.heappop(q) # (1,2) 
heapq.heappop(q) # (1,5)
heapq.heappop(q) # (2,1)
heapq.heappop(q) # (2,3)
```

- ìœ„ì™€ ê°™ì€ ì„±ì§ˆì„ ì´ìš©í•´, ë‹¤ì–‘í•œ Heap ì„ êµ¬ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- EX) ì ˆëŒ“ê°’ í™ 

```python
lst = [-3, 4, -6,10]
lst_new = [(3,-3),(4,4),(6,-6),(10,10)]
heapq.heapfy(lst_new)
heapq.heappop(lst_new) # ì ˆëŒ“ê°’ ê¸°ì¤€ìœ¼ë¡œ ì‘ì€ê²ƒì„ í˜¸ì¶œ, ì›ë˜ê°’ë„ ë‘ë²ˆì¨° ìš”ì†Œì— ë“¤ì–´ìˆìŒ!
```

<br>

# 3. Itertools

- íŒŒì´ì¬ì˜ ì—¬ëŸ¬ ìœ ìš©í•œ í•¨ìˆ˜ê°€ ëª¨ì—¬ìˆëŠ” module


```python
import itertools as it
```

## Product

- ì¤‘ë³µì„ í—ˆë½í•œ, ë½‘ê¸°ì˜ ê°€ì§€ ì¶œë ¥


```python
list(it.product('ABC',repeat = 2))
```


    [('A', 'A'),
     ('A', 'B'),
     ('A', 'C'),
     ('B', 'A'),
     ('B', 'B'),
     ('B', 'C'),
     ('C', 'A'),
     ('C', 'B'),
     ('C', 'C')]

## permuation

- ìˆœì—´ì˜ ê°€ì§“ìˆ˜ ì¶œë ¥


```python
list(it.permutations('ABC', 2))
```


    [('A', 'B'), ('A', 'C'), ('B', 'A'), ('B', 'C'), ('C', 'A'), ('C', 'B')]

## Combinations

- ì¡°í•©ì˜ ê²½ìš°ë¥¼ ì¶œë ¥í•´ì¤€ë‹¤.


```python
list(it.combinations('ABC', 2))
```


    [('A', 'B'), ('A', 'C'), ('B', 'C')]

## combinations_with_replacement

- ì¤‘ë³µì¡°í•©ì˜ ê°€ì§“ìˆ˜ ì¶œë ¥


```python
list(it.combinations_with_replacement('ABCD',3))
```


    [('A', 'A', 'A'),
     ('A', 'A', 'B'),
     ('A', 'A', 'C'),
     ('A', 'A', 'D'),
     ('A', 'B', 'B'),
     ('A', 'B', 'C'),
     ('A', 'B', 'D'),
     ('A', 'C', 'C'),
     ('A', 'C', 'D'),
     ('A', 'D', 'D'),
     ('B', 'B', 'B'),
     ('B', 'B', 'C'),
     ('B', 'B', 'D'),
     ('B', 'C', 'C'),
     ('B', 'C', 'D'),
     ('B', 'D', 'D'),
     ('C', 'C', 'C'),
     ('C', 'C', 'D'),
     ('C', 'D', 'D'),
     ('D', 'D', 'D')]

<br>

# 4. Math

- íŒŒì´ì¬ì˜ ê¸°ë³¸ì ì¸ ê³„ì‚°ì„ ë„ì™€ì£¼ëŠ” ëª¨ë“ˆ

> math.ceil

> math.floor

> math.comb(n,k)

- n ê°œì—ì„œ k ê°œì˜ í•­ëª©ì„ ë½‘ëŠ” Combination ì˜ ê°€ì§“ìˆ˜ ì¶œë ¥

> math.facorial(x)

- x! ê°’ ì¶œë ¥
- x ê°€ ì •ìˆ˜ê°€ ì•„ë‹ˆê±°ë‚˜ ìŒìˆ˜ë©´ Value error

> math.gcd(x,y)

- x,y ì˜ gcd ì¶œë ¥ (3.8 ì´ìƒì—ì„œ ê°€ëŠ¥)

> math.lcm(x,y)

- x,y ì´ lcm ì¶œë ¥ (3.8 ì´ìƒì—ì„œ ê°€ëŠ¥)

<Br>

# 5. Functool

## cmp_to_key

- Sorting ì˜ Custom ì •ë ¬ ë¶€ë¶„ ì°¸ì¡°. 
- Custom ìœ¼ë¡œ ì •ë ¬ì„ ì§€ì›í•œë‹¤. 
  - f(x,y) ì—ì„œ x>y ë©´ 1 , x=y ë©´ 0, x<y ë©´ -1 ì„ ì¶œë ¥í•˜ê²Œ í•¨ìˆ˜ë¥¼ ì§  ë’¤
  - sorted( ê°ì²´ , cmp_to_key(f)) ì´ëŸ°ì‹ìœ¼ë¡œ ì •ì˜í•´ì£¼ë©´ ëœë‹¤. 

<br>

# 6. Collections

## Counter

- collections.Counter ì„ ì´ìš©í•´ , ë‹¨ì–´ê°€ ì£¼ì–´ì¡Œì„ë•Œì— ëª‡ê°œì˜ ì•ŒíŒŒë²³ì´ ìˆëŠ”ì§€ ì¶œë ¥í•˜ê²Œ í•´ì¤„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. 

```python
from collections import Counter

Counter('hello world') # Counter({'l': 3, 'o': 2, 'h': 1, 'e': 1, ' ': 1, 'w': 1, 'r': 1, 'd': 1})
dict(Counter('hello world')) # dictionary í˜•íƒœë¡œ ë³€í™˜ë©ë‹ˆë‹¤.
```

<br>

## Dedaultdict

```python
from collections import defaultdict
dic = defaultdict(list) # ë””í´íŠ¸ê°’ì´ list ì¸ ë”•ì…”ë„ˆë¦¬
dic['A'].append(1)
dic['B']
print(dic) # {'A': [1], 'B': []}
```

- ìœ„ì™€ ê°™ì´ ë””í´íŠ¸ê°’ì´ List ì¸ ê²½ìš°, append ë¥¼ ë°”ë¡œ ì ìš©í•´ë„ ë¦¬ìŠ¤íŠ¸ ì•ˆì˜ ê°’ìœ¼ë¡œ ë“¤ì–´ê°‘ë‹ˆë‹¤.

```python
from collections import defaultdict
dic = defaultdict(int)
for i in 'abbfaa':
    dic[i] += 1
print(dic) # {'a': 3, 'b': 2, 'f': 1}
```

- ìœ„ì˜ ê²½ìš°ì²˜ëŸ¼ ê° letter ì˜ ê°¯ìˆ˜ë¥¼ ì…€ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.

```python
from collections import defaultdict
dic = defaultdict(set)
for school,student in [('A','kim'),('B','han'),('A','park'),('A','kim'),('B','jay')]:
    dic[school].add(student)
print(dic) # {'A': {'park', 'kim'}, 'B': {'han', 'jay'}}
```

- ìœ„ì™€ ê°™ì´, set ì„ ê¸°ë³¸ìœ¼ë¡œ ì •ì˜í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤. 

```python
defaultdict(<class 'set'>, {'A': {'park', 'kim'}, 'B': {'han', 'jay'}})
```

- ìœ„ì™€ ê°™ì´ defaultdict ê°ì²´ì´ë¯€ë¡œ,ìœ„ì²˜ëŸ¼ ëª¨ë‘ Assign í•œ ì´í›„ì—ëŠ” ì´ë¥¼ dict ë¡œ ê³ ì³ì£¼ëŠ”ê²ƒì´ ì•ˆì „í•©ë‹ˆë‹¤.

```python
dict(dic) -> dict ê°ì²´ê°€ ë¨
```

<br>

# 7. Bisect

- ì´ì§„íƒìƒ‰ì„ êµ¬í˜„í•œ ì‚¬ê¸°ì ì¸ ë©”ì„œë“œ.. (ì¨ë„ ë˜ë‚˜?)

> bisect_left(lst,x)

- ì •ë ¬ëœ ìˆœì„œì—ì„œ ë¦¬ìŠ¤íŠ¸ aì— ë°ì´í„° x ë¥¼ ì‚½ì…í•  ê°€ì¥ ì™¼ìª½ ì¸ë±ìŠ¤ë¥¼ ì°¾ëŠ” ë©”ì„œë“œ 

> bisect_right(lst,x)

- ì •ë ¬ëœ ìˆœì„œì—ì„œ ë¦¬ìŠ¤íŠ¸ aì— ë°ì´í„° x ë¥¼ ì‚½ì…í•  ê°€ì¥ ì˜¤ë¥¸ìª½ ì¸ë±ìŠ¤ë¥¼ ì°¾ëŠ” ë©”ì„œë“œ 

```python
import bisect
lst = [1,2,2,4,4,4,6]
bisect.bisect_left(lst,4) # 3
bisect.bisect_right(lst,4) # 6
bisect.bisect_left(lst,3) # 3
bisect.bisect_right(lst,3) # 3
```

- ìœ„ì™€ ê°™ì´ , ìˆ˜ê°€ ì—†ì„ë•Œì—ë„ ê°™ì€ ë¡œì§ì„ ë”°ë¼ê°‘ë‹ˆë‹¤. 

<br>

# 8. Copy

- Copy ëŠ” [[] []] ì™€ ê°™ì´ ì•ˆì˜ ê°’ì´ List ì¼ë•Œì—ë„ ë³µì‚¬ë¥¼ ê°€ëŠ¥í•˜ê²Œ í•´ì¤ë‹ˆë‹¤. 
- ì£¼ë¡œ 'ê²½ë¡œ' ì™€ ê´€ë ¨ëœ DFS/BFS ë¬¸ì œì—ì„œ ì‚¬ìš©ë©ë‹ˆë‹¤. 
- ë‹¤ë§Œ ì‹œê°„ì´ ì˜¤ë˜ê±¸ë ¤ì„œ... ë³„ë¡œ ì¢‹ì§€ëŠ” ì•ŠìŠµë‹ˆë‹¤.

```python
import copy
copy.deepcopy(mat)
```



